---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import FormattedDate from './FormattedDate.astro';

interface Props {
  post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
---

<a href={`/${post.slug}/`} class="group flex flex-col h-full overflow-hidden rounded-xl glass-panel hover:scale-[1.015] transition-all duration-300">
  <div class="aspect-video w-full overflow-hidden bg-zinc-100 dark:bg-zinc-800 relative">
    {post.data.coverImage && (
      <Image
        src={post.data.coverImage}
        alt={post.data.title}
        class="h-full w-full object-cover object-center transition-transform duration-300 group-hover:scale-105"
        width={720}
        height={360}
      />
    )}
    {!post.data.coverImage && (
      <div class="flex h-full items-center justify-center text-zinc-400 dark:text-zinc-600">
        <span class="text-sm">No Image</span>
      </div>
    )}
  </div>
  <div class="flex flex-1 flex-col p-5">
    <div class="mb-2 text-sm text-zinc-500 dark:text-zinc-400">
      <FormattedDate date={post.data.pubDate} />
    </div>
    <h3 class="mb-2 text-xl font-bold leading-tight text-zinc-900 dark:text-zinc-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
      {post.data.title}
    </h3>
    <p class="mb-4 flex-1 text-sm leading-relaxed text-zinc-600 dark:text-zinc-400 line-clamp-3">
      {post.data.description}
    </p>
  </div>
</a>
